//===========================================================================		
/*
	* Change Logs :
	* Date           Author       Notes
	* 2015-03-23     Cris	      the first version
*/
//===========================================================================		

#ifndef	__SCAN_KEY_H__
#define	__SCAN_KEY_H__

//===========================================================================		
/*
  @brief		i/o definition.
*/
//===========================================================================		
#define		_KEY1		(PORTBbits.RB4)
#define		_KEY2		(PORTBbits.RB5)



//===========================================================================		
//
//===========================================================================		
#define		WAKEUP_KEY_DEBOUNCE				2
#define		WAKEUP_KEY_RELEASE_DEBOUNCE		2

//===========================================================================		
/*
  @brief		delay.
  
  @details		delay 1ms.
  
  @note			(1)需注意指令週期.
  				(2)Delay1KTCYx的計算方式: 1/( osc / 4 ) * 1000 = 0.5 ms .
                
                
  @param[in]	cnt			delay count. unit 1ms              
*/
//===========================================================================
typedef	struct
{
	uint16_t	key_temp;
	uint8_t		key_cnt;
	uint8_t		release_key_cnt;
	uint16_t	key_ram;
	uint16_t	key_ram_bak;
	uint8_t		key_code;
	
}scan_key_t;

//===========================================================================		
//
//===========================================================================		
extern	scan_key_t	scan_key;


//===========================================================================		
//
//===========================================================================		
void	read_key(void);
void	deal_read_key(void);
void	check_get_key(void);

//===========================================================================		
//
//===========================================================================		
#endif